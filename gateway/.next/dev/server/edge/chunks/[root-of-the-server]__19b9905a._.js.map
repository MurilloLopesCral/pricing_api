{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/utils/proxy.ts"],"sourcesContent":["export async function proxyToPricing(\r\n  req: Request,\r\n  targetPath: string\r\n) {\r\n  try {\r\n    console.log('--- AI GATEWAY ---');\r\n    console.log('PATH:', targetPath);\r\n    console.log('ENV:', {\r\n      PRICING_API_URL: process.env.PRICING_API_URL,\r\n      HAS_PRICING_KEY: !!process.env.PRICING_INTERNAL_KEY,\r\n      HAS_AI_KEY: !!process.env.AI_GATEWAY_KEY\r\n    });\r\n\r\n    const apiKey = req.headers.get('x-api-key');\r\n    console.log('REQ KEY:', apiKey);\r\n\r\n    if (apiKey !== process.env.AI_GATEWAY_KEY) {\r\n      return new Response(\r\n        JSON.stringify({ error: 'Unauthorized' }),\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const body = await req.text();\r\n    console.log('BODY:', body);\r\n\r\n    const res = await fetch(\r\n      `${process.env.PRICING_API_URL}${targetPath}`,\r\n      {\r\n        method: req.method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-api-key': process.env.PRICING_INTERNAL_KEY!\r\n        },\r\n        body\r\n      }\r\n    );\r\n\r\n    const text = await res.text();\r\n    return new Response(text, {\r\n      status: res.status,\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n\r\n  } catch (err: any) {\r\n    console.error('GATEWAY ERROR:', err?.message || err);\r\n    return new Response(\r\n      JSON.stringify({ error: 'Gateway error', detail: String(err) }),\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n  "],"names":[],"mappings":";;;;AAAO,eAAe,eACpB,GAAY,EACZ,UAAkB;IAElB,IAAI;QACF,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,SAAS;QACrB,QAAQ,GAAG,CAAC,QAAQ;YAClB,iBAAiB,QAAQ,GAAG,CAAC,eAAe;YAC5C,iBAAiB,CAAC,CAAC,QAAQ,GAAG,CAAC,oBAAoB;YACnD,YAAY,CAAC,CAAC,QAAQ,GAAG,CAAC,cAAc;QAC1C;QAEA,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC;QAC/B,QAAQ,GAAG,CAAC,YAAY;QAExB,IAAI,WAAW,QAAQ,GAAG,CAAC,cAAc,EAAE;YACzC,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAe,IACvC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,QAAQ,GAAG,CAAC,SAAS;QAErB,MAAM,MAAM,MAAM,MAChB,GAAG,QAAQ,GAAG,CAAC,eAAe,GAAG,YAAY,EAC7C;YACE,QAAQ,IAAI,MAAM;YAClB,SAAS;gBACP,gBAAgB;gBAChB,aAAa,QAAQ,GAAG,CAAC,oBAAoB;YAC/C;YACA;QACF;QAGF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,IAAI,SAAS,MAAM;YACxB,QAAQ,IAAI,MAAM;YAClB,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEF,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,kBAAkB,KAAK,WAAW;QAChD,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,OAAO;YAAiB,QAAQ,OAAO;QAAK,IAC7D;YAAE,QAAQ;QAAI;IAElB;AACF"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/api/analytics/query/route.ts"],"sourcesContent":["import { proxyToPricing } from '@/app/utils/proxy';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function POST(req: Request) {\r\n  return proxyToPricing(req, '/analytics/query');\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,GAAY;IACrC,OAAO,IAAA,iJAAc,EAAC,KAAK;AAC7B"}}]
}